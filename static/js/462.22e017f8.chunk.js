"use strict";(self.webpackChunkblogproject=self.webpackChunkblogproject||[]).push([[462],{5031:function(e,n,r){r.d(n,{nO:function(){return c},yd:function(){return i},kl:function(){return s}});r(2791);var t=r(184),s=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},i=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},c=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},6848:function(e,n,r){r.d(n,{_:function(){return h},O:function(){return x}});var t,s,i=r(1413),c=r(4925),o=r(168),a=(r(2791),r(6444)),d=r(184),u=["htmlFor","children"],l=a.ZP.label(t||(t=(0,o.Z)(["\n  color: ",";\n  font-weight: 500;\n  font-size: 14px;\n  cursor: pointer;\n"])),(function(e){return e.theme.gray4b})),h=function(e){var n=e.htmlFor,r=void 0===n?"":n,t=e.children,s=(0,c.Z)(e,u);return(0,d.jsx)(l,(0,i.Z)((0,i.Z)({htmlFor:r},s),{},{children:t}))},f=a.ZP.span(s||(s=(0,o.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"]))),x=function(e){var n=e.children,r=e.type,t="text-gray-500 bg-gray-100";switch(void 0===r?"default":r){case"success":t="text-green-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,d.jsx)(f,{className:t,children:n})}},1538:function(e,n,r){r.r(n);var t,s=r(168),i=(r(2791),r(6444)),c=r(184),o=i.ZP.div(t||(t=(0,s.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap ;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));n.default=function(e){var n=e.children;return(0,c.jsx)(o,{children:(0,c.jsx)("table",{children:n})})}},8791:function(e,n,r){r.d(n,{i:function(){return t}});var t=r(1538).default},8322:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,s=e.desc,i=void 0===s?"":s,c=e.children;return(0,t.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:i})]}),c]})}},6462:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t=r(4165),s=r(3433),i=r(1413),c=r(5861),o=r(9439),a=r(8322),d=r(2791),u=r(8791),l=r(5031),h=r(1199),f=r(9062),x=r(6871),v=r(3585),p=r(6848),j=r(9257),m=r(9085),g=r(1830),w=r.n(g),b=r(763),k=r(184),Z=function(){var e=(0,d.useState)(""),n=(0,o.Z)(e,2),r=n[0],s=n[1],a=(0,d.useState)(0),g=(0,o.Z)(a,2),Z=(g[0],g[1]),y=(0,d.useState)(),N=(0,o.Z)(y,2),C=(N[0],N[1]),L=(0,d.useState)([]),A=(0,o.Z)(L,2),O=A[0],I=A[1],M=(0,x.s0)();(0,d.useEffect)((function(){function e(){return(e=(0,c.Z)((0,t.Z)().mark((function e(){var n,s,c,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.hJ)(h.db,"users"),s=r?(0,f.IO)(n,(0,f.ar)("username",">=",r),(0,f.ar)("username","<=",r+"utf8")):(0,f.IO)(n,(0,f.b9)(1)),e.next=4,(0,f.PL)(s);case 4:c=e.sent,o=c.docs[c.docs.length-1],(0,f.cf)(n,(function(e){Z(e.size)})),(0,f.cf)(s,(function(e){var n=[];e.forEach((function(e){n.push((0,i.Z)({id:e.id},e.data()))})),I(n)})),C(o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);var S=(0,b.debounce)((function(e){s(e.target.value)}),500),z=function(e){switch(e){case v.iQ.ACTIVE:return(0,k.jsx)(p.O,{type:"success",children:"Active"});case v.iQ.PENDING:return(0,k.jsx)(p.O,{type:"warning",children:"Mod"});case v.iQ.BAN:return(0,k.jsx)(p.O,{type:"danger",children:"User"})}},B=function(e){switch(e){case v.xZ.ADMIN:return"Admin";case v.xZ.MOD:return"Moderator";case v.xZ.USER:return"User"}},D=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,f.JU)(h.db,"users",n.id),w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var e=(0,c.Z)((0,t.Z)().mark((function e(s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isConfirmed){e.next=7;break}return e.next=3,(0,f.oe)(r);case 3:return e.next=5,(0,j.h8)(n);case 5:m.Am.success("Delete user successfully!"),w().fire("Deleted!","Your file has been deleted.","success");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"mb-10 flex justify-end",children:(0,k.jsx)("input",{type:"text",placeholder:"Search user ...",className:"py-4 px-5 border border-gray-300 rounded-lg outline-none",onChange:S})}),(0,k.jsxs)(u.i,{children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"Id"}),(0,k.jsx)("th",{children:"Info"}),(0,k.jsx)("th",{children:"User name"}),(0,k.jsx)("th",{children:"Email address"}),(0,k.jsx)("th",{children:"Status"}),(0,k.jsx)("th",{children:"Role"}),(0,k.jsx)("th",{children:"Actions"})]})}),(0,k.jsx)("tbody",{children:O.length>0&&O.map((function(e){return function(e){var n;return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{title:e.id,children:e.id.slice(0,4)+"..."}),(0,k.jsx)("td",{className:"whitespace-nowrap",children:(0,k.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,k.jsx)("img",{src:null===e||void 0===e?void 0:e.avatar,alt:"123",className:"w-10 h-10 object-cover rounded-md flex-shrink-0"}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h3",{children:null===e||void 0===e?void 0:e.fullname}),(0,k.jsx)("time",{className:"text-sm text-gray-500",children:new Date(1e3*(null===e||void 0===e||null===(n=e.createdAt)||void 0===n?void 0:n.seconds)).toLocaleDateString("vi-VI")})]})]})}),(0,k.jsx)("td",{children:null===e||void 0===e?void 0:e.username}),(0,k.jsx)("td",{title:e.email,children:(null===e||void 0===e?void 0:e.email.slice(0,5))+"..."}),(0,k.jsx)("td",{children:z(Number(null===e||void 0===e?void 0:e.status))}),(0,k.jsx)("td",{children:B(Number(e.role))}),(0,k.jsx)("td",{children:(0,k.jsxs)("div",{className:"flex gap-5 text-back-400",children:[(0,k.jsx)(l.kl,{}),(0,k.jsx)(l.yd,{onClick:function(){return M("/manage/update-user?id=".concat(e.id))}}),(0,k.jsx)(l.nO,{onClick:function(){D(e)}})]})})]},e.id)}(e)}))})]})]})},y=r(385),N=(r(9808),function(){var e=(0,d.useState)([]),n=(0,o.Z)(e,2),r=n[0],u=n[1],l=((0,x.s0)(),(0,d.useState)()),v=(0,o.Z)(l,2),p=v[0],j=v[1],m=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(){var n,c,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,f.IO)((0,f.hJ)(h.db,"users"),(0,f.b9)(1)),n=(0,f.IO)((0,f.hJ)(h.db,"users"),(0,f.TQ)(p),(0,f.b9)(1)),(0,f.cf)(n,(function(e){var n=[];e.forEach((function(e){n.push((0,i.Z)({id:e.id},e.data()))})),u([].concat((0,s.Z)(r),n))})),e.next=5,(0,f.PL)(n);case 5:c=e.sent,o=c.docs[c.docs.length-1],j(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{children:[(0,k.jsx)(a.Z,{title:"Users",desc:"Manage your user"}),(0,k.jsx)("div",{className:"flex justify-end mb-10",children:(0,k.jsx)(y.z,{kind:"ghost",to:"/manage/add-user",children:"Add new user"})}),(0,k.jsx)(Z,{}),(0,k.jsx)("div",{className:"mt-10",children:(0,k.jsx)(y.z,{className:"mx-auto",onClick:m,children:"Load more"})})]})})}}]);
//# sourceMappingURL=462.22e017f8.chunk.js.map