"use strict";(self.webpackChunkblogproject=self.webpackChunkblogproject||[]).push([[376],{5031:function(e,n,r){r.d(n,{nO:function(){return o},yd:function(){return i},kl:function(){return s}});r(2791);var t=r(184),s=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},i=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},o=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},9501:function(e,n,r){r.d(n,{L:function(){return h}});var t=r(1413),s=r(4925),i=r(2791),o=r(9439),c=r(184),a=(0,i.createContext)();function l(e){var n=(0,i.useState)(!1),r=(0,o.Z)(n,2),t=r[0],s=r[1],l={show:t,setShow:s,toggle:function(){s(!t)}};return(0,c.jsx)(a.Provider,{value:l,children:e.children})}function d(){var e=(0,i.useContext)(a);if("undefined"===typeof e)throw new Error("useDropdown must be used within DropdownProvider");return e}var u=["children"],h=function(e){var n=e.children,r=(0,s.Z)(e,u);return(0,c.jsx)(l,(0,t.Z)((0,t.Z)({},r),{},{children:(0,c.jsx)("div",{className:"relative inline-block w-full",children:n})}))},x=function(e){var n=d().setShow,r=e.onClick;return(0,c.jsx)("div",{className:"py-[15px] px-[25px] cursor-pointer flex items-center justify-between hover:text-primary transition-all",onClick:function(){r&&r(),n(!1)},children:e.children})},f=["placeholder"],p=function(e){var n=e.placeholder,r=(0,s.Z)(e,f),i=d().onChange;return(0,c.jsx)("div",{className:"p-2",children:(0,c.jsx)("input",(0,t.Z)({type:"text",placeholder:n,className:"p-4 outline-none w-full border border-gray-200 rounded",onChange:i},r))})},v=function(e){var n=e.placeholder,r=void 0===n?"":n,t=e.className,s=void 0===t?"":t,i=d(),o=i.toggle,a=i.show;return(0,c.jsxs)("div",{className:"flex items-center justify-between py-[15px] px-[25px] bg-white border border-grayf1 rounded-lg cursor-pointer font-medium ".concat(s),onClick:o,children:[(0,c.jsx)("span",{children:r}),(0,c.jsx)("span",{children:a?(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}):(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})},g=function(e){var n=e.children,r=d().show;return(0,c.jsx)(c.Fragment,{children:r&&(0,c.jsx)("div",{className:"absolute top-full left-0 w-full bg-white shadow-sm",children:n})})};h.Option=x,h.Search=p,h.Select=v,h.List=g},6356:function(e,n,r){var t,s=r(168),i=(r(2791),r(6444)),o=r(184),c=i.ZP.div(t||(t=(0,s.Z)(["\n\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    row-gap: 10px;\n    margin-bottom: 25px;\n"])));n.Z=function(e){var n=e.children;return(0,o.jsx)(c,{children:n})}},3330:function(e,n,r){r.d(n,{g:function(){return t.Z},Y:function(){return i}});var t=r(6356),s=(r(2791),r(184)),i=function(e){var n=e.children;return(0,s.jsx)("div",{className:"flex flex-wrap gap-5",children:n})}},6848:function(e,n,r){r.d(n,{_:function(){return h},O:function(){return f}});var t,s,i=r(1413),o=r(4925),c=r(168),a=(r(2791),r(6444)),l=r(184),d=["htmlFor","children"],u=a.ZP.label(t||(t=(0,c.Z)(["\n  color: ",";\n  font-weight: 500;\n  font-size: 14px;\n  cursor: pointer;\n"])),(function(e){return e.theme.gray4b})),h=function(e){var n=e.htmlFor,r=void 0===n?"":n,t=e.children,s=(0,o.Z)(e,d);return(0,l.jsx)(u,(0,i.Z)((0,i.Z)({htmlFor:r},s),{},{children:t}))},x=a.ZP.span(s||(s=(0,c.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"]))),f=function(e){var n=e.children,r=e.type,t="text-gray-500 bg-gray-100";switch(void 0===r?"default":r){case"success":t="text-green-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,l.jsx)(x,{className:t,children:n})}},1538:function(e,n,r){r.r(n);var t,s=r(168),i=(r(2791),r(6444)),o=r(184),c=i.ZP.div(t||(t=(0,s.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap ;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));n.default=function(e){var n=e.children;return(0,o.jsx)(c,{children:(0,o.jsx)("table",{children:n})})}},8791:function(e,n,r){r.d(n,{i:function(){return t}});var t=r(1538).default},8322:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,s=e.desc,i=void 0===s?"":s,o=e.children;return(0,t.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:i})]}),o]})}},7376:function(e,n,r){r.r(n);var t=r(3433),s=r(4165),i=r(1413),o=r(5861),c=r(9439),a=r(2791),l=r(8791),d=r(385),u=r(9501),h=r(8322),x=r(9062),f=r(1199),p=r(6871),v=r(5031),g=r(1830),j=r.n(g),m=r(6848),w=r(3585),b=r(763),k=(r(9808),r(3330)),y=r(184);n.default=function(){var e=(0,p.s0)(),n=(0,a.useState)([]),r=(0,c.Z)(n,2),g=r[0],Z=r[1],N=(0,a.useState)(""),C=(0,c.Z)(N,2),L=C[0],S=C[1],O=(0,a.useState)(),P=(0,c.Z)(O,2),D=P[0],A=P[1],B=(0,a.useState)(0),E=(0,c.Z)(B,2),M=E[0],z=E[1],I=(0,a.useState)([]),J=(0,c.Z)(I,2),W=J[0],F=(J[1],(0,a.useState)("")),T=(0,c.Z)(F,2),Y=T[0],H=T[1],R=(0,a.useState)([]),V=(0,c.Z)(R,2),Q=(V[0],V[1]);function U(){return U=(0,o.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,x.JU)(f.db,"posts",n),j().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=4;break}return e.next=3,(0,x.oe)(r);case 3:j().fire("Deleted!","Your post has been deleted.","success");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)((0,s.Z)().mark((function e(){var n,r,t,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,x.hJ)(f.db,"posts"),r=L?(0,x.IO)(n,(0,x.ar)("title",">=",L),(0,x.ar)("title","<=",L+"utf8")):(0,x.IO)(n,(0,x.b9)(3)),e.next=4,(0,x.PL)(r);case 4:t=e.sent,o=t.docs[t.docs.length-1],(0,x.cf)(n,(function(e){z(e.size)})),(0,x.cf)(r,(function(e){var n=[];e.forEach((function(e){n.push((0,i.Z)({id:e.id},e.data()))})),Z(n)})),A(o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L]);var G=function(e){switch(e){case w.cf.APPROVED:return(0,y.jsx)(m.O,{type:"success",children:"Approved"});case w.cf.PENDING:return(0,y.jsx)(m.O,{type:"pending",children:"Pending"});case w.cf.REJECTED:return(0,y.jsx)(m.O,{type:"danger",children:"Rejected"})}},_=(0,b.debounce)((function(e){S(e.target.value)}),250),q=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n,r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,x.IO)((0,x.hJ)(f.db,"categories"),(0,x.b9)(1)),n=(0,x.IO)((0,x.hJ)(f.db,"posts"),(0,x.TQ)(D),(0,x.b9)(3)),(0,x.cf)(n,(function(e){var n=[];e.forEach((function(e){n.push((0,i.Z)({id:e.id},e.data()))})),Z([].concat((0,t.Z)(g),n))})),e.next=5,(0,x.PL)(n);case 5:r=e.sent,o=r.docs[r.docs.length-1],A(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var r,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,x.JU)(f.db,"categories",n.id),e.next=3,(0,x.QT)(r);case 3:t=e.sent,Q("category",(0,i.Z)({id:t.id},t.data())),H(n);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{children:[(0,y.jsx)(h.Z,{title:"All posts",desc:"Manage all posts"}),(0,y.jsxs)("div",{className:"mb-10 flex justify-end gap-5",children:[(0,y.jsx)("div",{className:"w-full max-w-[200px]",children:(0,y.jsxs)(k.g,{children:[(0,y.jsxs)(u.L,{children:[(0,y.jsx)(u.L.Select,{placeholder:"Category"}),(0,y.jsx)(u.L.List,{children:W.length>0&&W.map((function(e){return(0,y.jsxs)(u.L.Option,{onClick:function(){return K(e)},children:[e.name," "]},e.id)}))})]}),(null===Y||void 0===Y?void 0:Y.name)&&(0,y.jsx)("span",{className:"inline-block p-3 rounded-lg bg-green-50 text-green-700  text-sm font-bold",children:null===Y||void 0===Y?void 0:Y.name})]})}),(0,y.jsx)("div",{className:"w-full max-w-[300px]",children:(0,y.jsx)("input",{type:"text",className:"w-full p-4 rounded-lg border border-solid border-gray-300",placeholder:"Search post...",onChange:_})})]}),(0,y.jsxs)(l.i,{children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"Id"}),(0,y.jsx)("th",{children:"Post"}),(0,y.jsx)("th",{children:"Category"}),(0,y.jsx)("th",{children:"Author"}),(0,y.jsx)("th",{children:"Status"}),(0,y.jsx)("th",{children:"Actions"})]})}),(0,y.jsx)("tbody",{children:g.length>0&&g.map((function(n){var r,t,s,i,o,c=null!==n&&void 0!==n&&null!==(r=n.createdAt)&&void 0!==r&&r.seconds?new Date(1e3*(null===n||void 0===n||null===(t=n.createdAt)||void 0===t?void 0:t.seconds)):new Date,a=new Date(c).toLocaleDateString("vi-VI");return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(null===(s=n.id)||void 0===s?void 0:s.slice(0,5))+"..."}),(0,y.jsx)("td",{className:"!pr-[100px]",children:(0,y.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,y.jsx)("img",{src:n.image,alt:"",className:"w-[66px] h-[55px] rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("h3",{className:"font-semibold",children:n.title})," ",(0,y.jsxs)("time",{className:"text-sm text-gray-500",children:["Date: ",a]})]})]})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"text-gray-500",children:null===(i=n.category)||void 0===i?void 0:i.name})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"text-gray-500",children:null===(o=n.user)||void 0===o?void 0:o.username})}),(0,y.jsx)("td",{children:G(n.status)}),(0,y.jsx)("td",{children:(0,y.jsxs)("div",{className:"flex items-center gap-x-3 text-gray-500",children:[(0,y.jsx)(v.kl,{onClick:function(){e("/".concat(n.slug))}}),(0,y.jsx)(v.yd,{onClick:function(){e("/manage/update-post?id=".concat(n.id))}}),(0,y.jsx)(v.nO,{onClick:function(){return function(e){return U.apply(this,arguments)}(n.id)}})]})})]},n.id)}))})]}),M>g.length&&(0,y.jsxs)("div",{className:"mt-10",children:[(0,y.jsx)(d.z,{className:"mx-auto",onClick:q,children:"Load more"}),M]})]})}}}]);
//# sourceMappingURL=376.f4ac6bdb.chunk.js.map