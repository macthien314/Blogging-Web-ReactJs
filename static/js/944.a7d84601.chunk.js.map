{"version":3,"file":"static/js/944.a7d84601.chunk.js","mappings":"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","sources":["pages/PageNotFound.js","components/author/AuthorBox.js","module/post/PostRelated.js","pages/PostDetailsPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nconst PageNotFoundStyles = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  background-color: ${(props) => props.theme.black};\r\n  color: white;\r\n  .page-content {\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n  }\r\n  .logo {\r\n    display: inline-block;\r\n    margin-bottom: 40px;\r\n  }\r\n  .heading {\r\n    font-size: 60px;\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n  }\r\n  .description {\r\n    max-width: 800px;\r\n    margin: 0 auto 40px;\r\n  }\r\n  .back {\r\n    display: inline-block;\r\n    padding: 15px 30px;\r\n    color: white;\r\n    background-image: linear-gradient(\r\n      to right top,\r\n      ${(props) => props.theme.primary},\r\n      ${(props) => props.theme.secondary}\r\n    );\r\n    border-radius: 8px;\r\n    font-weight: 500;\r\n  }\r\n  .image {\r\n    max-width: 250px;\r\n    margin: 0 auto 40px;\r\n  }\r\n`;\r\n\r\nconst PageNotFound = () => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <PageNotFoundStyles>\r\n      <div className=\"page-content\">\r\n        <img src=\"/404.png\" alt=\"notfound\" className=\"image\" />\r\n        <h1 className=\"heading\">404 - Looks like you're lost.</h1>\r\n        <p className=\"description\">\r\n          Maybe this page used to exist or you just spelled something wrong.\r\n          Chances are your spelled something wrong, so can you double check the\r\n          URL?\r\n        </p>\r\n        <button onClick={() => navigate('/')} className=\"back\">\r\n          Go back\r\n        </button>\r\n      </div>\r\n    </PageNotFoundStyles>\r\n  );\r\n};\r\n\r\nexport default PageNotFound;\r\n","import { doc, getDoc } from 'firebase/firestore';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { db } from '../../firebase-app/firebase-config';\r\n\r\nconst AuthorBox = ({userId = ''}) => {\r\n    const [user, setUser] = useState({});\r\n    useEffect(()=>{\r\n        async function fetchUserData(){\r\n            const docRef = doc(db, 'users', userId);\r\n            const docSnapshot = await getDoc(docRef);\r\n            if(docSnapshot.data()){\r\n                setUser(docSnapshot.data());\r\n            }\r\n        }\r\n        fetchUserData();\r\n    }, [userId]);\r\n    if(!userId || !user.username) return null;\r\n    return (\r\n        <div className=\"author\">\r\n        <div className=\"author-image\">\r\n          <img\r\n            src={user?.avatar}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className=\"author-content\">\r\n          <h3 className=\"author-name\">{user?.fullname}</h3>\r\n          <p className=\"author-desc\">\r\n           {user?.description}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default AuthorBox;","import { collection, onSnapshot, query, where } from 'firebase/firestore';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Heading from '../../components/layout/Heading';\r\nimport { db } from '../../firebase-app/firebase-config';\r\nimport PostItem from './PostItem';\r\n\r\nconst PostRelated = ({categoryName = ''}) => {\r\n    const[posts, setPosts] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        const docRef = query(collection(db, 'posts'), where('category.name', '==', categoryName));\r\n        onSnapshot(docRef, snapshot =>{\r\n            const results = [];\r\n            snapshot.forEach(doc => {\r\n                results.push({\r\n                    id: doc.id,\r\n                    ...doc.data(),\r\n                });\r\n            });\r\n            setPosts(results);\r\n        });\r\n    },[categoryName])\r\n\r\n\r\n    \r\n\r\n    if(!categoryName || posts.length <= 0) return null;\r\n    return (\r\n        <div className=\"post-related\">\r\n        <Heading>Bài viết liên quan</Heading>\r\n        <div className=\"grid-layout grid-layout--primary\">\r\n        {posts.map((item) =>(\r\n            <PostItem key={item.id} data={item}></PostItem>\r\n       ) )}\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default PostRelated;","import { collection, onSnapshot, query, where } from \"firebase/firestore\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Layout from \"../components/layout/Layout\";\r\nimport { db } from \"../firebase-app/firebase-config\";\r\nimport PostCategory from \"../module/post/PostCategory\";\r\nimport PostImage from \"../module/post/PostImage\";\r\nimport PostMeta from \"../module/post/PostMeta\";\r\nimport PageNotFound from \"./PageNotFound\";\r\n\r\n//Chuyển content bị dính thẻ html vd như <span> </span> khi thêm content từ react quill\r\nimport parse from 'html-react-parser';\r\nimport AuthorBox from \"../components/author/AuthorBox\";\r\nimport PostRelated from \"../module/post/PostRelated\";\r\nimport slugify from \"slugify\";\r\n\r\nconst PostDetailsPageStyles = styled.div`\r\n    .post {\r\n    &-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      gap: 40px;\r\n      margin: 40px 0;\r\n    }\r\n    &-feature {\r\n      width: 100%;\r\n      max-width: 640px;\r\n      height: 466px;\r\n      border-radius: 20px;\r\n    }\r\n    &-heading {\r\n      font-weight: bold;\r\n      font-size: 36px;\r\n      margin-bottom: 16px;\r\n    }\r\n    &-info {\r\n      flex: 1;\r\n    }\r\n    &-content {\r\n      max-width: 700px;\r\n      margin: 80px auto;\r\n    }\r\n}\r\n\r\n\r\n.author {\r\n    margin-top: 40px;\r\n    margin-bottom: 80px;\r\n    display: flex;\r\n    border-radius: 20px;\r\n    background-color: ${(props) => props.theme.grayF3};\r\n    &-image {\r\n      width: 200px;\r\n      height: 200px;\r\n      flex-shrink: 0;\r\n      border-radius: inherit;\r\n    }\r\n    &-image img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n      border-radius: inherit;\r\n    }\r\n    &-content {\r\n      flex: 1;\r\n      padding: 20px;\r\n    }\r\n    &-name {\r\n      font-weight: bold;\r\n      margin-bottom: 10px;\r\n      font-size: 20px;\r\n    }\r\n    &-desc {\r\n      font-size: 14px;\r\n      line-height: 2;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 1023.98px) {\r\n    padding-bottom: 40px;\r\n    .post {\r\n      &-header {\r\n        flex-direction: column;\r\n      }\r\n      &-feature {\r\n        height: auto;\r\n      }\r\n      &-heading {\r\n        font-size: 26px;\r\n      }\r\n      &-content {\r\n        margin: 40px 0;\r\n      }\r\n    }\r\n    .author {\r\n      flex-direction: column;\r\n      &-image {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst PostDetailsPage = () => {\r\n  const { slug } = useParams();\r\n  const [postInfo, setPostInfo] = useState({});\r\n\r\n  useEffect(() => {\r\n    async function fecthData() {\r\n      if (!slug) return;\r\n      const colRef = query(collection(db, 'posts'), where('slug', '==', slug));\r\n      onSnapshot(colRef, (snapshot) => {\r\n        snapshot.forEach((doc) => {\r\n          doc.data && setPostInfo(doc.data());\r\n        })\r\n      })\r\n    } fecthData();\r\n  }, [slug])\r\n\r\n  //fix chuyển sang bài viết liên quan khác k scroll lên đầu trang\r\n  useEffect(()=>{\r\n    // window.scroll(0,0);\r\n    document.body.scrollIntoView({behavior:'smooth', block: 'start'});\r\n  },[slug]);\r\n\r\n\r\n  const { user } = postInfo;\r\n\r\n  if (!slug) return <PageNotFound></PageNotFound>;\r\n  if (!postInfo.title) return null;\r\n\r\n  const date =postInfo?.createdAt?.seconds ? new Date(postInfo?.createdAt?.seconds*1000)  : new Date();\r\n  const formatDate = new Date(date).toLocaleDateString('vi-VI');\r\n  \r\n  return (\r\n    <PostDetailsPageStyles>\r\n      <Layout>\r\n        <div className=\"container\">\r\n          <div className=\"post-header\">\r\n            <PostImage\r\n              url={postInfo.image}\r\n              className=\"post-feature\"\r\n            ></PostImage>\r\n            <div className=\"post-info\">\r\n              <PostCategory className=\"mb-6\" to={postInfo.category?.slug}>{postInfo.category?.name}</PostCategory>\r\n              <h1 className=\"post-heading\">\r\n                {postInfo.title}\r\n              </h1>\r\n              <PostMeta to={slugify(user?.username || '', { lower: true })} authorName={user?.fullname} date = {formatDate}></PostMeta>\r\n            </div>\r\n          </div>\r\n          <div className=\"post-content\">\r\n            <div className=\"entry-content\">\r\n              {parse(postInfo.content || '')}\r\n            </div>\r\n           <AuthorBox userId={user.id}></AuthorBox>\r\n          </div>\r\n          <PostRelated categoryName ={postInfo?.category?.name}></PostRelated>\r\n        </div>\r\n      </Layout>\r\n    </PostDetailsPageStyles>\r\n  );\r\n};\r\n\r\nexport default PostDetailsPage;\r\n"],"names":["PageNotFoundStyles","styled","props","theme","black","primary","secondary","navigate","useNavigate","className","src","alt","onClick","userId","useState","user","setUser","useEffect","docRef","doc","db","getDoc","docSnapshot","data","fetchUserData","username","avatar","fullname","description","categoryName","posts","setPosts","query","collection","where","onSnapshot","snapshot","results","forEach","push","id","length","Heading","map","item","PostItem","PostDetailsPageStyles","grayF3","slug","useParams","postInfo","setPostInfo","colRef","fecthData","document","body","scrollIntoView","behavior","block","PageNotFound","title","date","createdAt","seconds","Date","formatDate","toLocaleDateString","Layout","PostImage","url","image","PostCategory","to","category","name","PostMeta","slugify","lower","authorName","parse","content"],"sourceRoot":""}